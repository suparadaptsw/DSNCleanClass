<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Sarabun', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .score-card { transition: all 0.2s ease; }
        .score-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .update-btn { transition: all 0.2s ease; }
        .update-btn:hover { transform: scale(1.05); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b-4 border-indigo-500">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <h1 class="text-3xl font-bold text-gray-800">üè´ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h1>
                    <p class="text-gray-600 mt-1">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                    <p class="text-indigo-600 font-medium mt-1">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏û‡∏Ø‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏û‡∏®‡∏¥‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ</p>
                </div>
                <div class="flex flex-col sm:flex-row gap-3">
                    <button id="criteriaToggle" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        üìã ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                    </button>
                    <button id="adminToggle" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        üë®‚Äçüè´ ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏£‡∏π
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Statistics Summary -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="statsGrid">
                <!-- Statistics will be generated here -->
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="max-w-7xl mx-auto px-4 pb-6">
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">üîç ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label>
                    <select id="gradeFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option>
                        <option value="1">‡∏°.1</option>
                        <option value="2">‡∏°.2</option>
                        <option value="3">‡∏°.3</option>
                        <option value="4">‡∏°.4</option>
                        <option value="5">‡∏°.5</option>
                        <option value="6">‡∏°.6</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</label>
                    <select id="levelFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</option>
                        <option value="excellent">‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° üèÜ</option>
                        <option value="very-good">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° üåü</option>
                        <option value="good">‡∏î‡∏µ üôÇ</option>
                        <option value="not-passed">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á ‚ùå</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="max-w-7xl mx-auto px-4 pb-8">
        <div id="classroomGrid" class="space-y-8">
            <!-- Classroom cards will be generated here -->
        </div>
    </div>

    <!-- Criteria Modal -->
    <div id="criteriaModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
            <div class="bg-blue-600 text-white p-6">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üìã ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
                    <button id="closeCriteria" class="text-white hover:text-gray-200 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
                <div class="space-y-6">
                    <!-- Detailed Scoring Criteria -->
                    <div class="bg-indigo-50 border-2 border-indigo-400 rounded-xl p-6 mb-6">
                        <h3 class="text-2xl font-bold text-indigo-800 mb-4 text-center">üìä ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î (7 ‡∏´‡∏°‡∏ß‡∏î)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                            <!-- 1. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">‚ö° 1. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏î ‡πÜ</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 2. ‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">üßπ 2. ‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô (20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">15-19 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö</div>
                                    </div>
                                    <div class="bg-orange-50 p-2 rounded">
                                        <div class="font-semibold text-orange-700">10-14 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞/‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0-9 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏Å‡∏õ‡∏£‡∏Å ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡∏´‡∏•‡∏≤‡∏¢‡∏à‡∏∏‡∏î ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÄ‡∏•‡∏¢</div>
                                    </div>
                                    <div class="bg-gray-50 p-2 rounded border-l-4 border-gray-400">
                                        <div class="font-semibold text-gray-700">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏¢‡∏∞‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å 1 ‡∏ä‡∏¥‡πâ‡∏ô = <span class="text-red-600">-1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span></div>
                                        <div>‚Ä¢ ‡∏Ç‡∏¢‡∏∞‡∏ä‡∏¥‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà = <span class="text-red-600">-5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 3. ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞ -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">üóëÔ∏è 3. ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞ (20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ñ‡∏∏‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">15-19 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</div>
                                    </div>
                                    <div class="bg-orange-50 p-2 rounded">
                                        <div class="font-semibold text-orange-700">8-14 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á(‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0-7 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏ï‡πá‡∏°/‡∏•‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 4. ‡∏Å‡∏≤‡∏£‡∏ó‡∏¥‡πâ‡∏á/‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥ -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">üçº 4. ‡∏Å‡∏≤‡∏£‡∏ó‡∏¥‡πâ‡∏á/‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥ (20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏†‡∏≤‡∏ä‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö</div>
                                        <div>‚Ä¢ ‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏≤‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">15-19 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡πÉ‡∏™‡πà‡∏†‡∏≤‡∏ä‡∏ô‡∏∞</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡∏ß‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ï‡∏£‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏∏‡∏á‡∏î‡∏≥</div>
                                    </div>
                                    <div class="bg-orange-50 p-2 rounded">
                                        <div class="font-semibold text-orange-700">8-14 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏ß‡∏î‡∏•‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0-7 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡πà‡∏ß‡∏´‡πâ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏î ‡πÜ</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 5. ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">üìã 5. ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏•‡∏ö‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">3-4 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0-2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏•‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏•‡∏ö</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 6. ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">ü™ü 6. ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ö‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∏‡∏î)</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">1-4 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏õ‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ö‡∏≤‡∏ô</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡πÄ‡∏•‡∏¢</div>
                                    </div>
                                    <div class="bg-gray-50 p-2 rounded border-l-4 border-gray-400">
                                        <div class="font-semibold text-gray-700">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</div>
                                        <div>‚Ä¢ ‡∏´‡∏±‡∏Å‡∏ö‡∏≤‡∏ô‡∏•‡∏∞ 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 7. ‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
                            <div class="bg-white rounded-lg p-4 border border-indigo-200">
                                <h4 class="font-bold text-indigo-700 mb-3 text-center">ü™ë 7. ‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="bg-green-50 p-2 rounded">
                                        <div class="font-semibold text-green-700">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏¢‡∏Å‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡πÉ‡∏ï‡πâ‡πÇ‡∏ï‡πä‡∏∞</div>
                                    </div>
                                    <div class="bg-yellow-50 p-2 rounded">
                                        <div class="font-semibold text-yellow-700">15-19 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏°‡∏µ‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</div>
                                        <div>‚Ä¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏∑‡∏°‡∏Ç‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÇ‡∏ï‡πä‡∏∞</div>
                                    </div>
                                    <div class="bg-orange-50 p-2 rounded">
                                        <div class="font-semibold text-orange-700">8-14 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å</div>
                                    </div>
                                    <div class="bg-red-50 p-2 rounded">
                                        <div class="font-semibold text-red-700">0-7 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                        <div>‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÄ‡∏•‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏∞‡∏Å‡∏∞</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 text-center bg-white rounded-lg p-3 border border-indigo-200">
                            <div class="text-lg font-bold text-indigo-800">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° = 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                            <div class="text-sm text-indigo-600">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (10) + ‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô (20) + ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞ (20) + ‡∏Å‡∏≤‡∏£‡∏ó‡∏¥‡πâ‡∏á/‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥ (20) + ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô (5) + ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á (5) + ‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (20)</div>
                        </div>
                    </div>

                    <!-- Scoring Levels Summary -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-yellow-50 border-2 border-yellow-400 rounded-xl p-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl mb-2">üèÜ</div>
                                <h3 class="text-2xl font-bold text-yellow-800">‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</h3>
                                <div class="text-xl font-semibold text-yellow-700">100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                            </div>
                            <ul class="space-y-2 text-sm text-yellow-800">
                                <li>‚úÖ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î</li>
                                <li>‚úÖ ‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏î‡∏µ‡∏°‡∏≤‡∏Å</li>
                                <li>‚úÖ ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏°‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞</li>
                                <li>‚úÖ ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏ñ‡∏∏‡∏á‡πÉ‡∏´‡∏°‡πà</li>
                                <li>‚úÖ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÉ‡∏™</li>
                                <li>‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏£‡∏ß‡∏°‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</li>
                            </ul>
                        </div>

                        <div class="bg-green-50 border-2 border-green-400 rounded-xl p-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl mb-2">üåü</div>
                                <h3 class="text-2xl font-bold text-green-800">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</h3>
                                <div class="text-xl font-semibold text-green-700">90-99 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                            </div>
                            <ul class="space-y-2 text-sm text-green-800">
                                <li>‚úÖ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏µ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà</li>
                                <li>‚úÖ ‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏î‡∏µ</li>
                                <li>‚úÖ ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</li>
                                <li>‚úÖ ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</li>
                                <li>‚úÖ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î</li>
                                <li>‚ö†Ô∏è ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</li>
                            </ul>
                        </div>

                        <div class="bg-blue-50 border-2 border-blue-400 rounded-xl p-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl mb-2">üôÇ</div>
                                <h3 class="text-2xl font-bold text-blue-800">‡∏î‡∏µ</h3>
                                <div class="text-xl font-semibold text-blue-700">80-89 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                            </div>
                            <ul class="space-y-2 text-sm text-blue-800">
                                <li>‚úÖ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î</li>
                                <li>‚ö†Ô∏è ‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</li>
                                <li>‚ö†Ô∏è ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î</li>
                                <li>‚ö†Ô∏è ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</li>
                                <li>‚ö†Ô∏è ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏á</li>
                                <li>‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏à‡∏∏‡∏î</li>
                            </ul>
                        </div>

                        <div class="bg-red-50 border-2 border-red-400 rounded-xl p-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl mb-2">‚ùå</div>
                                <h3 class="text-2xl font-bold text-red-800">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</h3>
                                <div class="text-xl font-semibold text-red-700">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 80 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                            </div>
                            <ul class="space-y-2 text-sm text-red-800">
                                <li>‚ùå ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≥‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î</li>
                                <li>‚ùå ‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö</li>
                                <li>‚ùå ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å ‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡∏°‡∏≤‡∏Å</li>
                                <li>‚ùå ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏•‡πâ‡∏ô</li>
                                <li>‚ùå ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å‡∏°‡∏≤‡∏Å</li>
                                <li>‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional Guidelines -->
                    <div class="bg-gray-50 rounded-xl p-6 mt-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">üìù ‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2">üïê ‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
                                    <li>‚Ä¢ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ß‡∏•‡∏≤ 16:00 ‡∏ô.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2">üë• ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ ‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
                                    <li>‚Ä¢ ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2">üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î 100%</li>
                                    <li>‚Ä¢ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 90+ ‡∏ó‡∏∏‡∏Å‡∏´‡πâ‡∏≠‡∏á</li>
                                    <li>‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡∏£‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2">üèÜ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ‡πÄ‡∏î‡πà‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
                                    <li>‚Ä¢ ‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏Ñ‡∏∏‡∏ì</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="bg-indigo-50 rounded-xl p-6">
                        <h3 class="text-xl font-bold text-indigo-800 mb-3">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°</h3>
                        <div class="text-sm text-indigo-700">
                            <p>‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</p>
                            <p class="mt-2">üè´ <strong>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏û‡∏®‡∏¥‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ</strong></p>
                            <p>üìß ‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                            <p>üì± ‡∏Ñ‡∏£‡∏π‡∏®‡∏∏‡∏†‡∏£‡∏î‡∏≤ ‡πÇ‡∏û‡∏ò‡∏¥‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden">
            <div class="bg-indigo-600 text-white p-6">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üë®‚Äçüè´ ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏£‡∏π - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
                    <button id="closeAdmin" class="text-white hover:text-gray-200 text-2xl">&times;</button>
                </div>
            </div>
            
            <!-- Password Input Screen -->
            <div id="adminPasswordScreen" class="p-6">
                <div class="max-w-md mx-auto text-center">
                    <div class="text-6xl mb-4">üîê</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">‡∏õ‡πâ‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
                    <p class="text-gray-600 mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏£‡∏π</p>
                    
                    <div class="space-y-4">
                        <input 
                            type="password" 
                            id="adminPassword"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center text-xl"
                            placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
                            maxlength="6"
                        >
                        <button id="submitPassword" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-lg font-medium transition-colors">
                            üîì ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                        <div id="passwordError" class="text-red-600 text-sm hidden">
                            ‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Control Panel (Hidden initially) -->
            <div id="adminControlPanel" class="p-6 overflow-y-auto max-h-[calc(90vh-120px)] hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="adminGrid">
                    <!-- Admin input cards will be generated here -->
                </div>
                <div class="mt-6 flex flex-wrap justify-end gap-4">
                    <button id="saveAll" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>

                    <button id="clearAllData" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Gallery Modal -->
    <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
            <div class="bg-indigo-600 text-white p-4">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</h3>
                    <button id="closeImageModal" class="text-white hover:text-gray-200 text-2xl">&times;</button>
                </div>
                <div class="text-sm mt-1" id="imageModalTitle"></div>
            </div>
            <div class="p-6">
                <div class="text-center mb-4">
                    <img id="modalImage" src="" alt="‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô" class="max-w-full max-h-[60vh] mx-auto rounded-lg shadow-lg">
                </div>
                <div id="imageNavigation" class="flex justify-center items-center gap-4 mb-4">
                    <button id="prevImage" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg">‚Üê ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
                    <span id="imageCounter" class="text-gray-600 font-medium">1 / 1</span>
                    <button id="nextImage" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí</button>
                </div>
                <div id="imageThumbnails" class="flex justify-center gap-2 overflow-x-auto">
                    <!-- Thumbnails will be generated here -->
                </div>
                <div class="mt-4 text-sm text-gray-600 text-center">
                    ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡∏¢‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ
                </div>
            </div>
        </div>
    </div>

    <!-- Classroom Detail Modal -->
    <div id="classroomDetailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden">
            <div class="bg-blue-600 text-white p-4">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                    <button id="closeClassroomDetail" class="text-white hover:text-gray-200 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6 overflow-y-auto max-h-[calc(90vh-80px)]">
                <div class="text-center mb-4">
                    <div class="text-2xl font-bold text-gray-800" id="detailRoom"></div>
                    <div class="text-gray-600" id="detailGrade"></div>
                </div>
                
                <!-- View Mode -->
                <div id="detailViewMode" class="space-y-4">
                    <div id="detailScoreDisplay" class="text-center p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2" id="detailEmoji">üôÇ</div>
                        <div class="text-2xl font-bold mb-1" id="detailScore">0</div>
                        <div class="text-lg font-medium" id="detailLevel">‡∏î‡∏µ</div>
                    </div>
                    <div id="detailImageSection" class="hidden">
                        <label class="block text-sm font-medium text-gray-700 mb-2">üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</label>
                        <div id="detailImageGrid" class="grid grid-cols-2 gap-2">
                            <!-- Images will be populated here -->
                        </div>
                        <div class="text-xs text-gray-500 mt-1 text-center">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà</div>
                    </div>
                    <div class="text-center text-sm text-gray-500">
                        ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span id="detailLastUpdated"></span>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-500 bg-gray-50 p-3 rounded-lg">
                            üìù ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏£‡∏π‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏£‡∏π‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>

    <!-- Quick Update Modal for Admin -->
    <div id="quickUpdateAdminModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full">
            <div class="bg-green-600 text-white p-4">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡πà‡∏ß‡∏ô</h3>
                    <button id="closeQuickUpdateAdmin" class="text-white hover:text-gray-200 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6">
                <div class="text-center mb-4">
                    <div class="text-2xl font-bold text-gray-800" id="quickUpdateAdminRoom"></div>
                    <div class="text-gray-600" id="quickUpdateAdminGrade"></div>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î (0-100)</label>
                        <input 
                            type="number" 
                            min="0" 
                            max="100" 
                            id="quickUpdateAdminScore"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-center text-xl"
                            placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô"
                        >
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏£‡∏π‡∏õ)</label>
                        <input 
                            type="file" 
                            accept="image/*"
                            multiple
                            id="quickUpdateAdminImage"
                            class="w-full border border-gray-300 rounded-lg p-3 file:mr-3 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-green-50 file:text-green-700 hover:file:bg-green-100"
                        >
                        <div class="text-xs text-gray-500 mt-1">‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô)</div>
                        <div id="quickUpdateImagePreview" class="mt-2 grid grid-cols-2 gap-2 hidden">
                            <!-- Image previews will appear here -->
                        </div>
                        <div id="quickUpdateExistingImages" class="mt-2 hidden">
                            <div class="text-xs font-medium text-gray-700 mb-2">üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                            <div id="existingImagesGrid" class="grid grid-cols-2 gap-2">
                                <!-- Existing images will appear here -->
                            </div>
                        </div>
                    </div>
                    <div id="quickUpdateAdminPreview" class="text-center p-3 rounded-lg bg-gray-100">
                        <div class="text-lg font-medium">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•</div>
                    </div>
                    <button id="saveQuickUpdateAdmin" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium transition-colors">
                        üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-60 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full">
            <div class="bg-yellow-600 text-white p-4">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">‚ö†Ô∏è ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h3>
                </div>
            </div>
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="text-6xl mb-4">‚ùì</div>
                    <h4 class="text-lg font-bold text-gray-800 mb-2">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</h4>
                    <p class="text-gray-600" id="confirmationMessage">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
                </div>
                <div class="flex gap-3">
                    <button id="cancelConfirmation" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors">
                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                    </button>
                    <button id="confirmSave" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium transition-colors">
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize classroom data
        const classrooms = [];
        const gradeConfig = [
            { grade: 1, name: '‡∏°.1', count: 15 },
            { grade: 2, name: '‡∏°.2', count: 15 },
            { grade: 3, name: '‡∏°.3', count: 15 },
            { grade: 4, name: '‡∏°.4', count: 12 },
            { grade: 5, name: '‡∏°.5', count: 12 },
            { grade: 6, name: '‡∏°.6', count: 11 }
        ];

        let currentQuickUpdateClassroom = null;
        let currentImageGallery = [];
        let currentImageIndex = 0;
        let pendingSaveAction = null;

        // Image handling functions with proper isolation
        function handleImageUpload(file, classroomId) {
            return new Promise((resolve, reject) => {
                if (!file) {
                    resolve(null);
                    return;
                }

                // Create a new FileReader for each file to prevent conflicts
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Create isolated image data for this specific classroom
                    const imageData = e.target.result;
                    resolve(imageData);
                };
                reader.onerror = function() {
                    reject('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå');
                };
                reader.readAsDataURL(file);
            });
        }

        function handleMultipleImageUpload(files, classroomId) {
            // Process files sequentially to prevent conflicts and ensure proper isolation
            const fileArray = Array.from(files).slice(0, 5);
            return Promise.all(fileArray.map((file, index) => {
                return new Promise((resolve) => {
                    // Add a small delay between processing files to prevent race conditions
                    setTimeout(() => {
                        handleImageUpload(file, `${classroomId}_${index}_${Date.now()}`).then(resolve).catch(() => resolve(null));
                    }, index * 10);
                });
            }));
        }

        function showImageGallery(classroomId, startIndex = 0) {
            const classroom = classrooms.find(c => c.id === classroomId);
            if (!classroom || !classroom.images || classroom.images.length === 0) return;

            currentImageGallery = classroom.images;
            currentImageIndex = startIndex;
            
            updateImageGalleryDisplay();
            document.getElementById('imageModalTitle').textContent = `‡∏´‡πâ‡∏≠‡∏á ${classroomId}`;
            document.getElementById('imageModal').classList.remove('hidden');
        }

        function updateImageGalleryDisplay() {
            if (currentImageGallery.length === 0) return;

            const modalImage = document.getElementById('modalImage');
            const imageCounter = document.getElementById('imageCounter');
            const imageThumbnails = document.getElementById('imageThumbnails');
            const prevBtn = document.getElementById('prevImage');
            const nextBtn = document.getElementById('nextImage');

            // Update main image
            modalImage.src = currentImageGallery[currentImageIndex];
            
            // Update counter
            imageCounter.textContent = `${currentImageIndex + 1} / ${currentImageGallery.length}`;
            
            // Update navigation buttons
            prevBtn.disabled = currentImageIndex === 0;
            nextBtn.disabled = currentImageIndex === currentImageGallery.length - 1;
            prevBtn.className = currentImageIndex === 0 ? 
                'bg-gray-400 text-white px-4 py-2 rounded-lg cursor-not-allowed' : 
                'bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg';
            nextBtn.className = currentImageIndex === currentImageGallery.length - 1 ? 
                'bg-gray-400 text-white px-4 py-2 rounded-lg cursor-not-allowed' : 
                'bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg';

            // Update thumbnails
            imageThumbnails.innerHTML = currentImageGallery.map((img, index) => `
                <img src="${img}" alt="‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${index + 1}" 
                     class="w-16 h-16 object-cover rounded border-2 cursor-pointer transition-all ${index === currentImageIndex ? 'border-indigo-500 opacity-100' : 'border-gray-300 opacity-70 hover:opacity-100'}"
                     onclick="currentImageIndex = ${index}; updateImageGalleryDisplay();">
            `).join('');

            // Hide navigation if only one image
            const navigation = document.getElementById('imageNavigation');
            navigation.style.display = currentImageGallery.length > 1 ? 'flex' : 'none';
        }

        function deleteExistingImage(classroomId, imageIndex) {
            const classroom = classrooms.find(c => c.id === classroomId);
            if (!classroom || !classroom.images || imageIndex < 0 || imageIndex >= classroom.images.length) return;

            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ?')) {
                // Remove the image from the array
                classroom.images.splice(imageIndex, 1);
                
                // Save the updated data
                saveData();
                
                // Update all displays
                showExistingImages(classroomId);
                renderDashboard();
                renderAdminPanel();
                
                // Show success message
                const successMsg = document.createElement('div');
                successMsg.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                successMsg.textContent = '‚úÖ ‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
                document.body.appendChild(successMsg);
                
                setTimeout(() => {
                    if (successMsg.parentNode) {
                        successMsg.parentNode.removeChild(successMsg);
                    }
                }, 2000);
            }
        }

        function showExistingImages(classroomId) {
            const classroom = classrooms.find(c => c.id === classroomId);
            const existingImagesSection = document.getElementById('quickUpdateExistingImages');
            const existingImagesGrid = document.getElementById('existingImagesGrid');

            if (!classroom || !classroom.images || classroom.images.length === 0) {
                existingImagesSection.classList.add('hidden');
                return;
            }

            existingImagesSection.classList.remove('hidden');
            existingImagesGrid.innerHTML = classroom.images.map((img, index) => `
                <div class="relative group" id="image-${classroomId}-${index}">
                    <img src="${img}" alt="‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${index + 1}" class="w-full h-20 object-cover rounded border">
                    <button 
                        onclick="deleteExistingImage('${classroomId}', ${index})"
                        class="absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white text-xs w-6 h-6 rounded-full flex items-center justify-center opacity-80 group-hover:opacity-100 transition-all hover:scale-110"
                        title="‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"
                    >
                        √ó
                    </button>
                    <div class="absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded">${index + 1}</div>
                </div>
            `).join('');
        }

        function previewSelectedImages() {
            const fileInput = document.getElementById('quickUpdateAdminImage');
            const preview = document.getElementById('quickUpdateImagePreview');
            const files = Array.from(fileInput.files).slice(0, 5);

            if (files.length === 0) {
                preview.classList.add('hidden');
                return;
            }

            preview.classList.remove('hidden');
            preview.innerHTML = '';

            files.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const div = document.createElement('div');
                    div.className = 'relative';
                    div.innerHTML = `
                        <img src="${e.target.result}" alt="‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${index + 1}" class="w-full h-20 object-cover rounded border">
                        <div class="absolute top-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded">${index + 1}</div>
                    `;
                    preview.appendChild(div);
                };
                reader.readAsDataURL(file);
            });

            if (files.length === 5) {
                const warningDiv = document.createElement('div');
                warningDiv.className = 'col-span-2 text-center text-xs text-orange-600 bg-orange-50 p-2 rounded';
                warningDiv.textContent = '‚ö†Ô∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏£‡∏π‡∏õ (‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å)';
                preview.appendChild(warningDiv);
            }
        }

        // Generate classroom data with proper isolation
        gradeConfig.forEach(config => {
            for (let i = 1; i <= config.count; i++) {
                classrooms.push({
                    id: `${config.name}/${i}`,
                    grade: config.grade,
                    gradeName: config.name,
                    room: i,
                    score: null, // Start with no score
                    lastUpdated: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï',
                    images: [] // Each classroom gets its own isolated image array
                });
            }
        });

        // Load saved data from localStorage with proper isolation
        function loadSavedData() {
            const saved = localStorage.getItem('classroomScoresThai');
            if (saved) {
                const savedData = JSON.parse(saved);
                classrooms.forEach(classroom => {
                    if (savedData[classroom.id]) {
                        classroom.score = savedData[classroom.id].score;
                        classroom.lastUpdated = savedData[classroom.id].lastUpdated;
                        // Handle backward compatibility and ensure proper isolation
                        if (savedData[classroom.id].images) {
                            classroom.images = [...savedData[classroom.id].images]; // Create a copy to prevent reference sharing
                        } else if (savedData[classroom.id].image) {
                            classroom.images = [savedData[classroom.id].image];
                        } else {
                            classroom.images = [];
                        }
                    }
                });
            }
        }

        // Save data to localStorage with proper isolation
        function saveData() {
            const data = {};
            classrooms.forEach(classroom => {
                // Ensure each classroom has its own isolated image array
                data[classroom.id] = {
                    score: classroom.score,
                    lastUpdated: classroom.lastUpdated,
                    images: classroom.images ? [...classroom.images] : [] // Create a copy to prevent reference sharing
                };
            });
            localStorage.setItem('classroomScoresThai', JSON.stringify(data));
        }

        // Get level info from score (Thai version)
        function getLevelInfo(score) {
            if (score >= 100) return { level: 'excellent', text: '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°', emoji: 'üèÜ', color: 'bg-yellow-100 border-yellow-400 text-yellow-800' };
            if (score >= 90) return { level: 'very-good', text: '‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°', emoji: 'üåü', color: 'bg-green-100 border-green-400 text-green-800' };
            if (score >= 80) return { level: 'good', text: '‡∏î‡∏µ', emoji: 'üôÇ', color: 'bg-blue-100 border-blue-400 text-blue-800' };
            return { level: 'not-passed', text: '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á', emoji: '‚ùå', color: 'bg-red-100 border-red-400 text-red-800' };
        }

        // Calculate statistics
        function calculateStats() {
            const validScores = classrooms.filter(c => c.score !== null && c.score !== undefined);
            const stats = {
                excellent: validScores.filter(c => c.score >= 100).length,
                veryGood: validScores.filter(c => c.score >= 90 && c.score < 100).length,
                good: validScores.filter(c => c.score >= 80 && c.score < 90).length,
                notPassed: validScores.filter(c => c.score < 80).length
            };
            return stats;
        }

        // Render statistics
        function renderStats() {
            const stats = calculateStats();
            const statsGrid = document.getElementById('statsGrid');
            
            statsGrid.innerHTML = `
                <div class="text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                    <div class="text-2xl">üèÜ</div>
                    <div class="text-2xl font-bold text-yellow-800">${stats.excellent}</div>
                    <div class="text-sm text-yellow-700">‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</div>
                </div>
                <div class="text-center p-4 bg-green-50 rounded-lg border border-green-200">
                    <div class="text-2xl">üåü</div>
                    <div class="text-2xl font-bold text-green-800">${stats.veryGood}</div>
                    <div class="text-sm text-green-700">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</div>
                </div>
                <div class="text-center p-4 bg-blue-50 rounded-lg border border-blue-200">
                    <div class="text-2xl">üôÇ</div>
                    <div class="text-2xl font-bold text-blue-800">${stats.good}</div>
                    <div class="text-sm text-blue-700">‡∏î‡∏µ</div>
                </div>
                <div class="text-center p-4 bg-red-50 rounded-lg border border-red-200">
                    <div class="text-2xl">‚ùå</div>
                    <div class="text-2xl font-bold text-red-800">${stats.notPassed}</div>
                    <div class="text-sm text-red-700">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</div>
                </div>
            `;
        }

        // Render dashboard
        function renderDashboard() {
            const grid = document.getElementById('classroomGrid');
            const gradeFilter = document.getElementById('gradeFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;

            // Filter classrooms
            let filteredClassrooms = classrooms;
            if (gradeFilter) {
                filteredClassrooms = filteredClassrooms.filter(c => c.grade == gradeFilter);
            }
            if (levelFilter) {
                filteredClassrooms = filteredClassrooms.filter(c => {
                    if (c.score === null || c.score === undefined) return false;
                    return getLevelInfo(c.score).level === levelFilter;
                });
            }

            // Group by grade
            const groupedByGrade = {};
            filteredClassrooms.forEach(classroom => {
                if (!groupedByGrade[classroom.grade]) {
                    groupedByGrade[classroom.grade] = [];
                }
                groupedByGrade[classroom.grade].push(classroom);
            });

            let html = '';
            Object.keys(groupedByGrade).sort((a, b) => a - b).forEach(grade => {
                const gradeData = gradeConfig.find(g => g.grade == grade);
                html += `
                    <div class="fade-in">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4 flex items-center flex-wrap">
                            üìö ${gradeData.name}
                            <span class="ml-3 text-sm bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full">
                                ${groupedByGrade[grade].length} ‡∏´‡πâ‡∏≠‡∏á
                            </span>
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-8">
                `;

                groupedByGrade[grade].sort((a, b) => a.room - b.room).forEach(classroom => {
                    // Handle empty state
                    if (classroom.score === null || classroom.score === undefined) {
                        html += `
                            <div class="score-card bg-white rounded-xl shadow-md border-2 border-gray-300 p-4">
                                <div class="text-center">
                                    <div class="text-xl font-bold text-gray-800 mb-1">${classroom.id}</div>
                                    <div class="text-3xl mb-2">üìù</div>
                                    <div class="text-lg text-gray-500 mb-1">-</div>
                                    <div class="text-sm font-medium mb-3 text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</div>
                                    <div class="text-xs text-gray-400 mb-3">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</div>
                                    <button 
                                        class="update-btn w-full bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-lg font-medium transition-all"
                                        onclick="showClassroomDetail('${classroom.id}')"
                                    >
                                        ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                    </button>
                                    <div class="mt-2 text-xs text-gray-500">
                                        ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${classroom.lastUpdated}
                                    </div>
                                </div>
                            </div>
                        `;
                    } else {
                        const levelInfo = getLevelInfo(classroom.score);
                        html += `
                            <div class="score-card bg-white rounded-xl shadow-md border-2 ${levelInfo.color} p-4">
                                <div class="text-center">
                                    <div class="text-xl font-bold text-gray-800 mb-1">${classroom.id}</div>
                                    <div class="text-3xl mb-2">${levelInfo.emoji}</div>
                                    <div class="text-2xl font-bold mb-1">${classroom.score}</div>
                                    <div class="text-sm font-medium mb-3">${levelInfo.text}</div>
                                    ${classroom.images && classroom.images.length > 0 ? `
                                        <div class="mb-3">
                                            <div class="grid grid-cols-2 gap-1">
                                                ${classroom.images.slice(0, 4).map((img, index) => `
                                                    <img src="${img}" alt="‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ${index + 1}" class="w-full h-12 object-cover rounded border cursor-pointer hover:opacity-80 transition-opacity" onclick="showImageGallery('${classroom.id}', ${index})">
                                                `).join('')}
                                            </div>
                                            <div class="text-xs text-green-600 mt-1">üì∑ ${classroom.images.length} ‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</div>
                                        </div>
                                    ` : '<div class="text-xs text-gray-400 mb-3">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</div>'}
                                    <button 
                                        class="update-btn w-full bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-lg font-medium transition-all"
                                        onclick="showClassroomDetail('${classroom.id}')"
                                    >
                                        ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                    </button>
                                    <div class="mt-2 text-xs text-gray-500">
                                        ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${classroom.lastUpdated}
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                });

                html += '</div></div>';
            });

            if (html === '') {
                html = '<div class="text-center py-12"><div class="text-6xl mb-4">üîç</div><div class="text-xl text-gray-600">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á</div></div>';
            }

            grid.innerHTML = html;
            renderStats();
        }

        // Render admin panel
        function renderAdminPanel() {
            const grid = document.getElementById('adminGrid');
            let html = '';

            gradeConfig.forEach(config => {
                const gradeClassrooms = classrooms.filter(c => c.grade === config.grade);
                
                gradeClassrooms.sort((a, b) => a.room - b.room).forEach(classroom => {
                    // Handle empty state in admin panel
                    const displayScore = classroom.score === null || classroom.score === undefined ? '' : classroom.score;
                    const levelInfo = classroom.score === null || classroom.score === undefined ? 
                        { emoji: 'üìù', text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï', color: 'bg-gray-100 border-gray-300 text-gray-600' } : 
                        getLevelInfo(classroom.score);
                    
                    html += `
                        <div class="bg-gray-50 rounded-lg p-4 border">
                            <div class="text-center mb-3">
                                <div class="font-bold text-lg">${classroom.id}</div>
                                <div class="text-sm text-gray-600">${classroom.gradeName}</div>
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (0-100)</label>
                                <input 
                                    type="number" 
                                    min="0" 
                                    max="100" 
                                    value="${displayScore}"
                                    data-classroom="${classroom.id}"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center"
                                    placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô"
                                >
                                <label class="block text-xs font-medium text-gray-700 mt-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</label>
                                <input 
                                    type="file" 
                                    accept="image/*"
                                    data-classroom="${classroom.id}"
                                    class="w-full text-xs border border-gray-300 rounded-md p-1 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"
                                >
                                <div class="text-center p-2 rounded text-sm ${levelInfo.color}">
                                    ${levelInfo.emoji} ${levelInfo.text}
                                </div>
                                <div class="space-y-1">
                                    <button 
                                        class="w-full bg-green-500 hover:bg-green-600 text-white text-xs py-1 px-2 rounded font-medium transition-colors"
                                        onclick="openQuickUpdateAdmin('${classroom.id}')"
                                    >
                                        ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                    </button>
                                    <button 
                                        class="w-full bg-red-500 hover:bg-red-600 text-white text-xs py-1 px-2 rounded font-medium transition-colors"
                                        onclick="clearIndividualData('${classroom.id}')"
                                    >
                                        üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ
                                    </button>
                                </div>
                                <div class="text-xs text-gray-500 text-center mt-1">
                                    ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${classroom.lastUpdated}
                                </div>
                            </div>
                        </div>
                    `;
                });
            });

            grid.innerHTML = html;

            // Add event listeners for real-time updates
            grid.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('input', function() {
                    const score = parseInt(this.value) || null;
                    let levelInfo;
                    
                    if (score === null || this.value === '') {
                        levelInfo = { emoji: 'üìù', text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï', color: 'bg-gray-100 border-gray-300 text-gray-600' };
                    } else {
                        levelInfo = getLevelInfo(score);
                    }
                    
                    // Update the level display
                    const levelDisplay = this.parentNode.querySelector('div:nth-child(3)');
                    levelDisplay.className = `text-center p-2 rounded text-sm ${levelInfo.color}`;
                    levelDisplay.textContent = `${levelInfo.emoji} ${levelInfo.text}`;
                });
            });
        }

        // Show classroom detail modal
        function showClassroomDetail(classroomId) {
            const classroom = classrooms.find(c => c.id === classroomId);
            if (!classroom) return;

            currentQuickUpdateClassroom = classroom;
            
            document.getElementById('detailRoom').textContent = classroom.id;
            document.getElementById('detailGrade').textContent = classroom.gradeName;
            document.getElementById('detailLastUpdated').textContent = classroom.lastUpdated;
            
            // Handle empty state
            if (classroom.score === null || classroom.score === undefined) {
                document.getElementById('detailScore').textContent = '-';
                document.getElementById('detailLevel').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï';
                document.getElementById('detailEmoji').textContent = 'üìù';
                
                const scoreDisplay = document.getElementById('detailScoreDisplay');
                scoreDisplay.className = 'text-center p-4 rounded-lg bg-gray-100 border-gray-300 text-gray-600';
            } else {
                const levelInfo = getLevelInfo(classroom.score);
                document.getElementById('detailScore').textContent = classroom.score;
                document.getElementById('detailLevel').textContent = levelInfo.text;
                document.getElementById('detailEmoji').textContent = levelInfo.emoji;
                
                const scoreDisplay = document.getElementById('detailScoreDisplay');
                scoreDisplay.className = `text-center p-4 rounded-lg ${levelInfo.color}`;
            }
            
            // Handle images display
            const imageSection = document.getElementById('detailImageSection');
            const imageGrid = document.getElementById('detailImageGrid');
            
            if (classroom.images && classroom.images.length > 0) {
                imageSection.classList.remove('hidden');
                imageGrid.innerHTML = classroom.images.map((img, index) => `
                    <img src="${img}" alt="‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ${index + 1}" 
                         class="w-full h-24 object-cover rounded-lg border cursor-pointer hover:opacity-80 transition-opacity" 
                         onclick="showImageGallery('${classroom.id}', ${index})">
                `).join('');
            } else {
                imageSection.classList.add('hidden');
            }
            
            // Reset to view mode
            showDetailViewMode();
            document.getElementById('classroomDetailModal').classList.remove('hidden');
        }

        // Detail modal mode management
        function showDetailViewMode() {
            document.getElementById('detailViewMode').classList.remove('hidden');
        }

        // Open quick update modal for admin
        function openQuickUpdateAdmin(classroomId) {
            const classroom = classrooms.find(c => c.id === classroomId);
            if (!classroom) return;

            currentQuickUpdateClassroom = classroom;
            
            document.getElementById('quickUpdateAdminRoom').textContent = classroom.id;
            document.getElementById('quickUpdateAdminGrade').textContent = classroom.gradeName;
            document.getElementById('quickUpdateAdminScore').value = classroom.score || '';
            
            // Clear file input and preview
            document.getElementById('quickUpdateAdminImage').value = '';
            document.getElementById('quickUpdateImagePreview').classList.add('hidden');
            
            // Show existing images
            showExistingImages(classroomId);
            
            updateQuickUpdateAdminPreview(classroom.score);
            document.getElementById('quickUpdateAdminModal').classList.remove('hidden');
        }

        // Update quick update admin preview
        function updateQuickUpdateAdminPreview(score) {
            const preview = document.getElementById('quickUpdateAdminPreview');
            if (score === '' || score === null || score === undefined) {
                preview.innerHTML = '<div class="text-lg font-medium text-gray-500">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•</div>';
                preview.className = 'text-center p-3 rounded-lg bg-gray-100';
                return;
            }

            const levelInfo = getLevelInfo(parseInt(score));
            preview.innerHTML = `
                <div class="text-2xl mb-1">${levelInfo.emoji}</div>
                <div class="text-lg font-bold">${score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                <div class="text-md font-medium">${levelInfo.text}</div>
            `;
            preview.className = `text-center p-3 rounded-lg ${levelInfo.color}`;
        }

        // Event listeners
        document.getElementById('criteriaToggle').addEventListener('click', function() {
            document.getElementById('criteriaModal').classList.remove('hidden');
        });

        document.getElementById('closeCriteria').addEventListener('click', function() {
            document.getElementById('criteriaModal').classList.add('hidden');
        });

        document.getElementById('adminToggle').addEventListener('click', function() {
            document.getElementById('adminModal').classList.remove('hidden');
            // Reset to password screen
            document.getElementById('adminPasswordScreen').classList.remove('hidden');
            document.getElementById('adminControlPanel').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
            document.getElementById('passwordError').classList.add('hidden');
        });

        document.getElementById('closeAdmin').addEventListener('click', function() {
            document.getElementById('adminModal').classList.add('hidden');
            // Reset to password screen for next time
            document.getElementById('adminPasswordScreen').classList.remove('hidden');
            document.getElementById('adminControlPanel').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
            document.getElementById('passwordError').classList.add('hidden');
        });

        // Password verification
        document.getElementById('submitPassword').addEventListener('click', function() {
            const password = document.getElementById('adminPassword').value;
            const correctPassword = '240640';
            
            if (password === correctPassword) {
                // Correct password - show admin panel
                document.getElementById('adminPasswordScreen').classList.add('hidden');
                document.getElementById('adminControlPanel').classList.remove('hidden');
                document.getElementById('passwordError').classList.add('hidden');
                renderAdminPanel();
            } else {
                // Wrong password - show error
                document.getElementById('passwordError').classList.remove('hidden');
                document.getElementById('adminPassword').value = '';
                document.getElementById('adminPassword').focus();
            }
        });

        // Allow Enter key to submit password
        document.getElementById('adminPassword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('submitPassword').click();
            }
        });

        document.getElementById('closeClassroomDetail').addEventListener('click', function() {
            document.getElementById('classroomDetailModal').classList.add('hidden');
        });

        document.getElementById('closeQuickUpdateAdmin').addEventListener('click', function() {
            document.getElementById('quickUpdateAdminModal').classList.add('hidden');
        });

        document.getElementById('closeImageModal').addEventListener('click', function() {
            document.getElementById('imageModal').classList.add('hidden');
        });

        // Image gallery navigation
        document.getElementById('prevImage').addEventListener('click', function() {
            if (currentImageIndex > 0) {
                currentImageIndex--;
                updateImageGalleryDisplay();
            }
        });

        document.getElementById('nextImage').addEventListener('click', function() {
            if (currentImageIndex < currentImageGallery.length - 1) {
                currentImageIndex++;
                updateImageGalleryDisplay();
            }
        });

        // Image preview for file selection
        document.getElementById('quickUpdateAdminImage').addEventListener('change', previewSelectedImages);

        // Confirmation modal handlers
        document.getElementById('confirmSave').addEventListener('click', function() {
            document.getElementById('confirmationModal').classList.add('hidden');
            if (pendingSaveAction) {
                pendingSaveAction();
                pendingSaveAction = null;
            }
        });

        document.getElementById('cancelConfirmation').addEventListener('click', function() {
            document.getElementById('confirmationModal').classList.add('hidden');
            pendingSaveAction = null;
        });

        document.getElementById('gradeFilter').addEventListener('change', renderDashboard);
        document.getElementById('levelFilter').addEventListener('change', renderDashboard);

        // Quick update admin score input listener
        document.getElementById('quickUpdateAdminScore').addEventListener('input', function() {
            updateQuickUpdateAdminPreview(this.value);
        });

        // Save quick update admin
        document.getElementById('saveQuickUpdateAdmin').addEventListener('click', async function() {
            if (!currentQuickUpdateClassroom) return;

            const scoreValue = document.getElementById('quickUpdateAdminScore').value;
            const score = scoreValue === '' ? null : parseInt(scoreValue);
            
            if (score !== null && (isNaN(score) || score < 0 || score > 100)) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 0-100');
                return;
            }

            const imageFiles = document.getElementById('quickUpdateAdminImage').files;
            
            try {
                // Handle multiple image uploads
                let imageDataArray = [];
                if (imageFiles.length > 0) {
                    imageDataArray = await handleMultipleImageUpload(imageFiles, currentQuickUpdateClassroom.id);
                    imageDataArray = imageDataArray.filter(img => img !== null);
                }

                currentQuickUpdateClassroom.score = score;
                currentQuickUpdateClassroom.lastUpdated = score === null ? '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï' : new Date().toLocaleDateString('th-TH');
                
                // Combine existing images with new images (max 5 total)
                if (imageDataArray.length > 0) {
                    const existingImages = currentQuickUpdateClassroom.images || [];
                    const allImages = [...existingImages, ...imageDataArray].slice(0, 5);
                    currentQuickUpdateClassroom.images = allImages;
                }
                
                saveData();
                renderDashboard();
                renderAdminPanel();
                
                // Show success message
                const button = document.getElementById('saveQuickUpdateAdmin');
                const originalText = button.textContent;
                button.textContent = '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!';
                button.classList.remove('bg-green-600', 'hover:bg-green-700');
                button.classList.add('bg-green-800');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-800');
                    button.classList.add('bg-green-600', 'hover:bg-green-700');
                    document.getElementById('quickUpdateAdminModal').classList.add('hidden');
                }, 1500);
            } catch (error) {
                alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û: ' + error);
            }
        });

        document.getElementById('saveAll').addEventListener('click', async function() {
            const inputs = document.querySelectorAll('#adminGrid input[type="number"]');
            const fileInputs = document.querySelectorAll('#adminGrid input[type="file"]');
            const today = new Date().toLocaleDateString('th-TH');
            
            // Process score inputs
            inputs.forEach(input => {
                const classroomId = input.dataset.classroom;
                const scoreValue = input.value;
                const score = scoreValue === '' ? null : parseInt(scoreValue);
                const classroom = classrooms.find(c => c.id === classroomId);
                if (classroom) {
                    classroom.score = score !== null ? Math.max(0, Math.min(100, score)) : null;
                    classroom.lastUpdated = score === null ? '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï' : today;
                }
            });

            // Process image uploads
            for (const fileInput of fileInputs) {
                const classroomId = fileInput.dataset.classroom;
                const file = fileInput.files[0];
                const classroom = classrooms.find(c => c.id === classroomId);
                
                if (file && classroom) {
                    try {
                        const imageData = await handleImageUpload(file, classroomId);
                        if (imageData) {
                            classroom.image = imageData;
                        }
                    } catch (error) {
                        console.error('Error uploading image for', classroomId, ':', error);
                    }
                }
            }
            
            saveData();
            renderDashboard();
            
            // Show success message
            const button = this;
            const originalText = button.textContent;
            button.textContent = '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!';
            button.classList.remove('bg-green-600', 'hover:bg-green-700');
            button.classList.add('bg-green-800');
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('bg-green-800');
                button.classList.add('bg-green-600', 'hover:bg-green-700');
            }, 2000);
        });

        // Updated clear all data function
        document.getElementById('clearAllData').addEventListener('click', function() {
            const confirmMessage = '‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£';
            
            if (confirm(confirmMessage)) {
                // Clear localStorage completely
                localStorage.removeItem('classroomScoresThai');
                
                // Reset all classroom data to completely empty state
                classrooms.forEach(classroom => {
                    classroom.score = null; // No value
                    classroom.lastUpdated = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï';
                    classroom.images = []; // Clear all images
                    classroom.image = null; // Clear legacy image field
                });
                
                // Clear all admin panel inputs
                const adminInputs = document.querySelectorAll('#adminGrid input');
                adminInputs.forEach(input => {
                    if (input.type === 'number') {
                        input.value = '';
                    } else if (input.type === 'file') {
                        input.value = '';
                    }
                });
                
                // Re-render everything immediately
                renderDashboard();
                renderAdminPanel();
                
                // Show success message
                const button = this;
                const originalText = button.textContent;
                button.textContent = '‚úÖ ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!';
                button.classList.remove('bg-red-600', 'hover:bg-red-700');
                button.classList.add('bg-green-600');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-600');
                    button.classList.add('bg-red-600', 'hover:bg-red-700');
                }, 2000);
            }
        });

        // Close modals when clicking outside
        document.getElementById('criteriaModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        document.getElementById('adminModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        document.getElementById('classroomDetailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        document.getElementById('quickUpdateAdminModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        document.getElementById('confirmationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
                pendingSaveAction = null;
            }
        });

        // Clear individual classroom data
        function clearIndividualData(classroomId) {
            const classroom = classrooms.find(c => c.id === classroomId);
            if (!classroom) return;

            const confirmMessage = `‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á ${classroomId}? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£`;
            
            if (confirm(confirmMessage)) {
                // Clear individual classroom data
                classroom.score = null; // No value
                classroom.lastUpdated = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï';
                classroom.images = []; // Clear all images for this classroom
                classroom.image = null; // Clear legacy image field
                
                // Save updated data
                saveData();
                
                // Clear the corresponding admin panel input
                const adminInput = document.querySelector(`#adminGrid input[data-classroom="${classroomId}"]`);
                if (adminInput && adminInput.type === 'number') {
                    adminInput.value = '';
                }
                
                // Re-render everything
                renderDashboard();
                renderAdminPanel();
                
                // Show success notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 max-w-sm';
                notification.innerHTML = `
                    <div class="flex items-center">
                        <div class="text-2xl mr-3">üóëÔ∏è</div>
                        <div>
                            <div class="font-bold">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</div>
                            <div class="text-sm">‡∏´‡πâ‡∏≠‡∏á ${classroomId} ‡∏ñ‡∏π‡∏Å‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                    </div>
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 3000);
            }
        }

        // Make functions globally available
        window.showClassroomDetail = showClassroomDetail;
        window.openQuickUpdateAdmin = openQuickUpdateAdmin;
        window.showImageGallery = showImageGallery;
        window.deleteExistingImage = deleteExistingImage;
        window.clearIndividualData = clearIndividualData;

        // Initialize the application
        loadSavedData();
        renderDashboard();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97240e96b3577b38',t:'MTc1NTcxNTYyNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
